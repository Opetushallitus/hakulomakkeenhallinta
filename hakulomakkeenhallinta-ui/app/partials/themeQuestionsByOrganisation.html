<div class="alert alert-info alert-block ">
    <i class="glyphicon glyphicon-info-sign"></i>
    <span data-ng-bind-html="t('olet.luomassa.lisakysymys.organisaatiolla', [ haunNimi, organisationNimi])"></span>
</div>
<alertmsg></alertmsg>

<lisakysymys-lista-napit></lisakysymys-lista-napit>

<h3 class="text-info" tl="hakukohdekohtaiset.lisakysymykset" >Hakukohdekohtaiset lisäkysymykset</h3>

<div class="from-group">
    <accordion data-ng-repeat="theme in themes">
        <accordion-group is-open="accordianState(theme)">
        <!--<accordion-group is-open="true">-->
            <accordion-heading>
                <button type="button" class=" btn btn-primary btn-xs" data-ng-click="addQuestion(theme)" >{{ t('lisaa.uusi.kysymys') || 'Lisää uusi kysymys' }} <i class="glyphicon glyphicon-plus-sign"></i> </button>
                <i class="glyphicon" ng-class="{'glyphicon-chevron-down': accordianState(theme), 'glyphicon-chevron-right': !accordianState(theme) }"></i>
                {{ theme | i18n:'name':userLang }}
            </accordion-heading>


            <div data-ng-repeat="hakukohde in theme.hkkohde">
                <div data-ng-show="hakukohde.additionalQuestions.length >0">
                    <hakukohde-lisakysmykset aoid="{{hakukohde.aoid}}"></hakukohde-lisakysmykset>
                    <table class="table table-striped table-hover" data-ng-show="naytaHakukohdeQues">
                        <tr>
                            <th>{{ t('th.otsikko') || 'Otsikko' }}</th>
                            <th>{{ t('th.tyyppi') || 'Tyyppi' }}</th>
                            <th>{{ t('th.liitepyynnot') || 'Liitepyynnöt' }}</th>
                            <th>{{ t('th.kieliversiot') || 'Kieliversiot' }}</th>
                        </tr>

                        <tr data-ng-repeat="question in hakukohde.additionalQuestions" >

                            <td>
                                <a data-ng-click="muokkaaKysymysta(question)">{{ question | i18n:'messageText'}}</a>
                            </td>
                            <td>
                                {{ question.type | i18next }} <span data-ng-if="question.options.length >0">({{ question.options.length }})</span>
                            </td>
                            <td>
                                <span data-ng-if="question.attachmentRequests.length >0">({{ question.attachmentRequests.length }})</span>
                            </td>
                            <td>
                                <question-translations></question-translations>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </accordion-group>
    </accordion>
</div>
<br>

<lisakysymys-lista-napit></lisakysymys-lista-napit>
