<div class="alert alert-info alert-block ">
    <i class="glyphicon glyphicon-info-sign"></i>
    <span data-ng-bind-html="t('olet.luomassa.lisakysymys.organisaatiolla', [ haunNimi, organisationNimi])"></span>
</div>
<alertmsg></alertmsg>

<lisakysymys-lista-napit></lisakysymys-lista-napit>

<h3 class="text-info" tl="hakukohdekohtaiset.lisakysymykset" >Hakukohdekohtaiset lisäkysymykset</h3>

<div class="from-group">
    <accordion data-ng-repeat="theme in themes">
        <accordion-group is-open="accordianState(theme)">
            <accordion-heading>
                <button type="button" class=" btn btn-primary btn-xs" data-ng-click="addQuestion(theme)" >{{ t('lisaa.uusi.kysymys') || 'Lisää uusi kysymys' }} <i class="glyphicon glyphicon-plus-sign"></i> </button>
                <i class="glyphicon" ng-class="{'glyphicon-chevron-down': accordianState(theme), 'glyphicon-chevron-right': !accordianState(theme) }"></i>
                {{ theme | i18n:'name':userLang }}
            </accordion-heading>


            <div data-ng-repeat="hakukohde in theme.hkkohde">
                <div data-ng-show="hakukohde.additionalQuestions.length >0">
                    <hakukohde-lisakysmykset aoid="{{hakukohde.aoid}}"></hakukohde-lisakysmykset>
                    <table class="table table-striped table-hover table-condensed" data-ng-show="naytaHakukohdeQues">
                        <tr>
                            <th style="text-align: center;"><i class="glyphicon glyphicon-sort"></i></th>
                            <th></th>
                            <th>#</th>
                            <th>{{ t('th.otsikko') || 'Otsikko' }}</th>
                            <th>{{ t('th.tyyppi') || 'Tyyppi' }}</th>
                            <th>{{ t('th.liitepyynnot') || 'Liitepyynnöt' }}</th>
                            <th>{{ t('th.kieliversiot') || 'Kieliversiot' }}</th>
                        </tr>

                        <tr data-ng-repeat="question in hakukohde.additionalQuestions | orderBy:'ordinal'" >
                            <td style="width: 70px">
                                <button class="btn btn-xs" data-ng-disabled="sortBtns || $first" data-ng-click="up($index)"><i class="glyphicon glyphicon-chevron-up"></i> </button>
                                <button class="btn btn-xs" data-ng-disabled="sortBtns || $last" data-ng-click="down($index)"><i class="glyphicon glyphicon-chevron-down"></i></button>
                            </td>
                            <td style="width: 180px; text-align: center;">
                                <button class="btn btn-xs" data-ng-click="muokkaaKysymysta(question)" data-ng-disabled="!sortBtns">{{ t('muokkaa') || 'Muokkaa' }} <i class="glyphicon glyphicon-edit"></i></button>
                                <button class="btn btn-xs" data-ng-click="poistaKysymys(question, hakukohde.additionalQuestions)" data-ng-disabled="!sortBtns">{{ t('poista') || 'Poista' }} <i class="glyphicon glyphicon-remove"></i></button>
                            </td>
                            <td style="width: 12px;">
                            {{question.ordinal}}
                            </td>
                            <td>
                                <a data-ng-click="muokkaaKysymysta(question)" >{{ question | i18n:'messageText':userLang}}</a>


                            </td>
                            <td>
                                {{ question.type | i18next }} <span data-ng-if="question.options.length >0">({{ question.options.length }})</span>
                            </td>
                            <td>
                                <span data-ng-if="question.attachmentRequests.length >0">({{ question.attachmentRequests.length }})</span>
                            </td>
                            <td>
                                <question-translations></question-translations>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </accordion-group>
    </accordion>
</div>
<br>

<lisakysymys-lista-napit></lisakysymys-lista-napit>
