/*! ng-i18next - v0.2.7 - 2013-10-18 - Copyright (c) 2013 Andre Meyering; Licensed MIT */angular.module("jm.i18next",["ng"]),angular.module("jm.i18next").provider("$i18next",function(){"use strict";var a,b=this,c=null,d={};b.options={},b.$get=["$rootScope",function(e){function f(a){window.i18n.init(a,function(a){d={},e.$$phase||e.$digest(),c=a,e.$broadcast("i18nextLanguageChange")})}function g(a,b,e){var f=b.lng||"auto";d[f]||(d[f]={}),c?(!d[f][a]||e)&&(d[f][a]=c(a,b)):d[f][a]=a}function h(b,c){var e=c?angular.extend({},a,c):a;return g(b,e,!!c),c&&c.lng?d[c.lng][b]:a.lng?d[a.lng][b]:d.auto[b]}return h.debugMsg=[],a=h.options=b.options,e.$watch(function(){return h.options},function(b,c){h.debugMsg.push("i18next options changed: \n","old options",c,"new options",b),a=h.options,f(a)},!0),f(a),h}]}),angular.module("jm.i18next").directive("ngI18next",["$rootScope","$i18next","$compile","$parse",function(a,b,c,d){"use strict";function e(e,f,g){var h,i="text",j=[i];if(0===g.indexOf("[")){var k=g.split("]");g=k[1],i=k[0].substr(1,k[0].length-1)}if(g.indexOf(";")===g.length-1&&(g=g.substr(0,g.length-2)),i.indexOf(":")>=0?(j=i.split(":"),i=j[0]):"i18next"===i&&(j[1]="i18next",i="text"),"i18next"!==i&&"i18next"!==j[1])h=b(g);else{var l={},m=g;if(g.indexOf("(")>=0&&g.indexOf(")")>=0){var n=g.split(")");n[0]=n[0].substr(1,n[0].length),l=d(n[0])(),m=n[1]}h=b(m,l)}"html"===i?f.html(h):"text"===i?f.text(h):f.attr(i,h),c(f.contents())(e),a.$$phase||a.$digest()}function f(a,b,c){if(c.indexOf(";")>=0)for(var d=c.split(";"),f=0;f<d.length;f++)""!==d[f]&&e(a,b,d[f]);else e(a,b,c)}return{restrict:"A",scope:!1,link:function(a,b,c){function d(c){e=""===c?b.text().replace(/^\s+|\s+$/g,""):c,e&&f(a.this,b,e)}var e;c.$observe("ngI18next",d),d(c.ngI18next),a.$on("i18nextLanguageChange",function(){f(a.this,b,e)})}}}]),angular.module("jm.i18next").filter("i18next",["$i18next",function(a){"use strict";return function(b,c){return a(b,c)}}]);